<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>常用命令笔记 - </title>
    <meta name="keywords" content=""/>
    <meta name="description" content="lilpilot's simiki"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Git">Git</a>&nbsp;&#187;&nbsp;常用命令笔记
    <span class="updated">Page Updated&nbsp;
      2017-12-17 10:49
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">常用命令笔记</div>

  <p><img alt="Git常用命令速查表" src="http://7xrr7e.com1.z0.glb.clouddn.com/git_big_jb51.jpg" /></p>
<hr />
<div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#github">如何创建Github项目</a></li>
<li><a href="#_1">如何在版本间穿梭</a></li>
<li><a href="#_2">如何更改远程仓库</a></li>
<li><a href="#_3">删除远程仓库上的文件</a></li>
<li><a href="#tag">tag相关</a></li>
<li><a href="#_4">删除远端分支</a></li>
</ul>
</div>
<h1 id="github">如何创建Github项目</h1>
<p>在本地项目目录下，初始化一个Git仓库：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">init</span>
</pre></div>


<p>在Github上建立Repo后，使用命令关联：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">id</span><span class="o">/</span><span class="n">repo</span><span class="o">-</span><span class="n">name</span><span class="p">.</span><span class="n">git</span>
</pre></div>


<p>若新建的仓库非空，比如自动创建了README，使用命令同步：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span>  <span class="n">master</span>
</pre></div>


<p>添加文件到Git仓库：</p>
<div class="hlcode"><pre><span class="nx">git</span> <span class="nb">add</span> <span class="o">&lt;</span><span class="nb">file</span><span class="o">&gt;</span>
</pre></div>


<p><strong>注：常用git add .来添加所有文件</strong></p>
<p>提交更改：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">&quot;xxx&quot;</span>
</pre></div>


<p>第一次提交到远程仓库：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<p>之后的提交：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>


<h1 id="_1">如何在版本间穿梭</h1>
<p>查看提交历史：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">log</span>
</pre></div>


<p>查看命令历史：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">reflog</span>
</pre></div>


<p>向前回退到上一版本：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">HEAD</span><span class="o">^</span>
</pre></div>


<p>或者回退到n个版本前：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">HEAD</span><span class="o">~</span><span class="n">n</span>
</pre></div>


<p>当然也可以随意穿梭：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span> <span class="n">commit_id</span>
</pre></div>


<h1 id="_2">如何更改远程仓库</h1>
<p>在Github上修改repo名后，手动修改URL：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">remote</span> <span class="n">set</span><span class="o">-</span><span class="n">url</span> <span class="n">origin</span> <span class="n">URL</span> 
</pre></div>


<h1 id="_3">删除远程仓库上的文件</h1>
<p>删除远程仓库上的指定文件：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">rm</span> <span class="o">--</span><span class="n">cached</span> <span class="n">xxx</span><span class="p">.</span><span class="n">file</span>
</pre></div>


<p>添加.gitignore并忽略文件，然后commit。</p>
<h1 id="tag">tag相关</h1>
<p>列出标签：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">tag</span>
</pre></div>


<p>创建轻量级标签：</p>
<div class="hlcode"><pre><span class="nx">git</span> <span class="kt">tag</span> <span class="o">&lt;</span><span class="nb">tagName</span><span class="o">&gt;</span>
<span class="nx">git</span> <span class="kt">tag</span> <span class="o">&lt;</span><span class="nb">tagName</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">commit</span><span class="o">&gt;</span>
</pre></div>


<p>推送标签至远端：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">push</span> <span class="o">--</span><span class="n">tags</span>
</pre></div>


<h1 id="_4">删除远端分支</h1>
<p>使用以下两条命令(二选一)删除远端分支：</p>
<div class="hlcode"><pre><span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="o">--</span><span class="nb">delete</span> <span class="o">&lt;</span><span class="nx">branchName</span><span class="o">&gt;</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="p">:</span><span class="o">&lt;</span><span class="nx">branchName</span><span class="o">&gt;</span>
</pre></div>


<p>如果提示"error: dst refspec xxx matches more than one."，即为同时存在相同名称的branch和tag，需要通过以下命令指定删除：</p>
<div class="hlcode"><pre><span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="p">:</span><span class="nx">refs</span><span class="p">/</span><span class="nx">heads</span><span class="o">/&lt;</span><span class="nx">branchName</span><span class="o">&gt;</span>
<span class="nx">git</span> <span class="nb">push</span> <span class="nx">origin</span> <span class="p">:</span><span class="nx">refs</span><span class="p">/</span><span class="nb">tags</span><span class="o">/&lt;</span><span class="nx">testName</span><span class="o">&gt;</span>
</pre></div>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2018 lilpilot.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2018-03-13 23:29:21</p>
      </span>
    </div>

    
    
  </body>
</html>